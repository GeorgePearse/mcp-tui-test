const local_index = {"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"MCP TUI Test \u00b6 Like Playwright, but for Terminal User Interfaces An MCP (Model Context Protocol) server that enables AI assistants to test Terminal User Interface (TUI) applications. This server provides tools to launch, interact with, and verify TUI applications programmatically. View on GitHub | See Examples Features \u00b6 Dual Testing Modes : Choose between stream mode (for CLI tools) or buffer mode (for full TUIs with position awareness) Launch TUI Applications : Start any terminal-based application with configurable dimensions Send Keyboard Input : Simulate user typing, special keys, and control combinations Capture Screen Output : Read and analyze the current terminal display Position-Based Testing : Verify text at specific screen coordinates (buffer mode) Cursor Tracking : Monitor cursor position in real-time (buffer mode) Wait for Text : Asynchronously wait for specific content to appear Assertions : Verify that expected content is present in the output Session Management : Run multiple TUI applications simultaneously Testing Modes \u00b6 Stream Mode (Default) \u00b6 Best for : CLI tools, command-line applications, simple interactive programs Uses : pexpect for stream-based testing Features : Text matching, pattern waiting, output capture Example use cases : git, npm, grep, interactive shell scripts Buffer Mode \u00b6 Best for : Full TUI applications, ncurses apps, dialog boxes, menus Uses : pexpect + pyte for screen buffer emulation Features : All stream features PLUS position-based assertions, cursor tracking, region extraction Example use cases : htop, vim, dialog, interactive menus When to use which mode: - Use stream mode for applications that output text sequentially - Use buffer mode for applications that draw complex UIs with cursor movement Installation \u00b6 Prerequisites \u00b6 Python 3.10 or higher pip Install Dependencies \u00b6 pip install -r requirements.txt Or install the package: pip install -e . Usage \u00b6 Running the MCP Server \u00b6 python server.py Or if installed as a package: mcp-tui-test Configure in Claude Desktop \u00b6 Add this to your claude_desktop_config.json : { \"mcpServers\": { \"tui-test\": { \"command\": \"python\", \"args\": [\"/path/to/mcp-tui-test/server.py\"] } } } Or if installed as a package: { \"mcpServers\": { \"tui-test\": { \"command\": \"mcp-tui-test\" } } } Available Tools \u00b6 launch_tui \u00b6 Launch a TUI application for testing. Parameters: - command (required): The command to launch the TUI application - session_id (optional): Unique identifier for this session (default: \"default\") - timeout (optional): Command timeout in seconds (default: 30) - dimensions (optional): Terminal dimensions as WIDTHxHEIGHT (default: \"80x24\") - mode (optional): Testing mode - \"stream\" or \"buffer\" (default: \"stream\") Examples: # Stream mode for CLI tools launch_tui(command=\"python example_tui_app.py\", session_id=\"test1\") # Buffer mode for full TUI applications launch_tui(command=\"htop\", session_id=\"test2\", mode=\"buffer\", dimensions=\"120x40\") send_keys \u00b6 Send keyboard input to a TUI application. Parameters: - keys (required): Keys to send. Use \\n for Enter, \\t for Tab, \\x1b for Escape - session_id (optional): Session identifier (default: \"default\") - delay (optional): Delay in seconds after sending keys (default: 0.1) Example: send_keys(keys=\"1\\n\", session_id=\"test1\") send_ctrl \u00b6 Send a Ctrl+Key combination to the TUI application. Parameters: - key (required): The key to combine with Ctrl (e.g., 'c', 'd', 'z') - session_id (optional): Session identifier (default: \"default\") Example: send_ctrl(key=\"c\", session_id=\"test1\") capture_screen \u00b6 Capture the current screen output of a TUI application. Parameters: - session_id (optional): Session identifier (default: \"default\") - include_ansi (optional): Whether to include ANSI escape codes in stream mode (default: False) - use_buffer (optional): Force buffer/stream mode. Auto-detects if None (default: None) Examples: # Auto-detect mode based on session capture_screen(session_id=\"test1\") # Force buffer mode capture capture_screen(session_id=\"test1\", use_buffer=True) expect_text \u00b6 Wait for specific text to appear in the TUI output. Parameters: - pattern (required): Text or regex pattern to wait for - session_id (optional): Session identifier (default: \"default\") - timeout (optional): Maximum time to wait in seconds (default: 10) Example: expect_text(pattern=\"Welcome\", session_id=\"test1\", timeout=5) assert_contains \u00b6 Assert that the current screen contains specific text. Parameters: - text (required): Text to search for in the current screen - session_id (optional): Session identifier (default: \"default\") - use_buffer (optional): Check buffer/stream mode. Auto-detects if None (default: None) Example: assert_contains(text=\"Counter value: 1\", session_id=\"test1\") assert_at_position (Buffer Mode Only) \u00b6 Assert that specific text appears at a screen position. Parameters: - text (required): Text to verify at the position - row (required): Row number (0-indexed) - col (required): Column number (0-indexed) - session_id (optional): Session identifier (default: \"default\") Example: # Verify \"Error\" appears at row 5, column 10 assert_at_position(text=\"Error\", row=5, col=10, session_id=\"test1\") get_cursor_position (Buffer Mode Only) \u00b6 Get the current cursor position. Parameters: - session_id (optional): Session identifier (default: \"default\") Example: get_cursor_position(session_id=\"test1\") # Returns: \"Cursor position (session: test1): row 10, column 25\" get_screen_region (Buffer Mode Only) \u00b6 Extract a rectangular region of the screen. Parameters: - row_start (required): Starting row (0-indexed, inclusive) - row_end (required): Ending row (0-indexed, exclusive) - col_start (optional): Starting column (0-indexed, inclusive, default: 0) - col_end (optional): Ending column (0-indexed, exclusive, default: end of line) - session_id (optional): Session identifier (default: \"default\") Example: # Extract rows 5-10, full width get_screen_region(row_start=5, row_end=10, session_id=\"test1\") # Extract rows 5-10, columns 20-60 get_screen_region(row_start=5, row_end=10, col_start=20, col_end=60, session_id=\"test1\") get_line (Buffer Mode Only) \u00b6 Get a specific line from the screen buffer. Parameters: - row (required): Row number (0-indexed) - session_id (optional): Session identifier (default: \"default\") Example: get_line(row=3, session_id=\"test1\") # Returns: \"Line 3 (session: test1): [line content]\" close_session \u00b6 Close a TUI testing session. Parameters: - session_id (optional): Session identifier (default: \"default\") Example: close_session(session_id=\"test1\") list_sessions \u00b6 List all active TUI testing sessions. Example: list_sessions() Example Test Scenario \u00b6 Here's how you might use this MCP to test a TUI application: Launch the application : launch_tui(command=\"python example_tui_app.py\") Wait for it to load : expect_text(pattern=\"Welcome to the Example TUI Application\") Interact with it : send_keys(keys=\"1\\n\") Verify output : assert_contains(text=\"Hello, TUI Tester!\") Clean up : close_session() Testing the Example App \u00b6 This repository includes an example TUI application ( example_tui_app.py ) that you can use to test the MCP server. Run it directly: python example_tui_app.py Or test it through the MCP: launch_tui(command=\"python example_tui_app.py\") send_keys(keys=\"1\\n\") capture_screen() Use Cases \u00b6 Automated Testing : Verify TUI applications behave correctly Integration Testing : Test command-line tools and interactive CLIs Documentation : Generate screenshots and examples from TUI apps Debugging : Inspect the state of TUI applications during development CI/CD : Add TUI testing to your continuous integration pipeline Technical Details \u00b6 This MCP server uses: - FastMCP : For the MCP server implementation - pexpect : For spawning and controlling terminal applications - pyte : For terminal emulation and screen buffer management (buffer mode) - ScreenSession wrapper : Combines pexpect and pyte for hybrid testing Architecture \u00b6 Stream Mode : pexpect directly captures output stream Buffer Mode : pexpect output \u2192 pyte terminal emulator \u2192 screen buffer Auto-detection : Tools automatically use appropriate mode based on session Limitations \u00b6 Currently designed for Unix-like systems (Linux, macOS) Windows support may require modifications (consider using winpty or similar) Mouse support in TUIs is not currently available Buffer mode requires slightly more memory for screen emulation Position-based assertions only work in buffer mode Contributing \u00b6 Contributions are welcome! Please feel free to submit issues or pull requests. License \u00b6 MIT License - see LICENSE file for details Related Projects \u00b6 Playwright - Browser automation (inspiration for this project) pexpect - Python module for spawning child applications pyte - Python terminal emulator MCP - Model Context Protocol specification Author \u00b6 Created for testing TUI applications with AI assistance.","title":"Home"},{"location":"#mcp-tui-test","text":"Like Playwright, but for Terminal User Interfaces An MCP (Model Context Protocol) server that enables AI assistants to test Terminal User Interface (TUI) applications. This server provides tools to launch, interact with, and verify TUI applications programmatically. View on GitHub | See Examples","title":"MCP TUI Test"},{"location":"#features","text":"Dual Testing Modes : Choose between stream mode (for CLI tools) or buffer mode (for full TUIs with position awareness) Launch TUI Applications : Start any terminal-based application with configurable dimensions Send Keyboard Input : Simulate user typing, special keys, and control combinations Capture Screen Output : Read and analyze the current terminal display Position-Based Testing : Verify text at specific screen coordinates (buffer mode) Cursor Tracking : Monitor cursor position in real-time (buffer mode) Wait for Text : Asynchronously wait for specific content to appear Assertions : Verify that expected content is present in the output Session Management : Run multiple TUI applications simultaneously","title":"Features"},{"location":"#testing-modes","text":"","title":"Testing Modes"},{"location":"#stream-mode-default","text":"Best for : CLI tools, command-line applications, simple interactive programs Uses : pexpect for stream-based testing Features : Text matching, pattern waiting, output capture Example use cases : git, npm, grep, interactive shell scripts","title":"Stream Mode (Default)"},{"location":"#buffer-mode","text":"Best for : Full TUI applications, ncurses apps, dialog boxes, menus Uses : pexpect + pyte for screen buffer emulation Features : All stream features PLUS position-based assertions, cursor tracking, region extraction Example use cases : htop, vim, dialog, interactive menus When to use which mode: - Use stream mode for applications that output text sequentially - Use buffer mode for applications that draw complex UIs with cursor movement","title":"Buffer Mode"},{"location":"#installation","text":"","title":"Installation"},{"location":"#prerequisites","text":"Python 3.10 or higher pip","title":"Prerequisites"},{"location":"#install-dependencies","text":"pip install -r requirements.txt Or install the package: pip install -e .","title":"Install Dependencies"},{"location":"#usage","text":"","title":"Usage"},{"location":"#running-the-mcp-server","text":"python server.py Or if installed as a package: mcp-tui-test","title":"Running the MCP Server"},{"location":"#configure-in-claude-desktop","text":"Add this to your claude_desktop_config.json : { \"mcpServers\": { \"tui-test\": { \"command\": \"python\", \"args\": [\"/path/to/mcp-tui-test/server.py\"] } } } Or if installed as a package: { \"mcpServers\": { \"tui-test\": { \"command\": \"mcp-tui-test\" } } }","title":"Configure in Claude Desktop"},{"location":"#available-tools","text":"","title":"Available Tools"},{"location":"#launch_tui","text":"Launch a TUI application for testing. Parameters: - command (required): The command to launch the TUI application - session_id (optional): Unique identifier for this session (default: \"default\") - timeout (optional): Command timeout in seconds (default: 30) - dimensions (optional): Terminal dimensions as WIDTHxHEIGHT (default: \"80x24\") - mode (optional): Testing mode - \"stream\" or \"buffer\" (default: \"stream\") Examples: # Stream mode for CLI tools launch_tui(command=\"python example_tui_app.py\", session_id=\"test1\") # Buffer mode for full TUI applications launch_tui(command=\"htop\", session_id=\"test2\", mode=\"buffer\", dimensions=\"120x40\")","title":"launch_tui"},{"location":"#send_keys","text":"Send keyboard input to a TUI application. Parameters: - keys (required): Keys to send. Use \\n for Enter, \\t for Tab, \\x1b for Escape - session_id (optional): Session identifier (default: \"default\") - delay (optional): Delay in seconds after sending keys (default: 0.1) Example: send_keys(keys=\"1\\n\", session_id=\"test1\")","title":"send_keys"},{"location":"#send_ctrl","text":"Send a Ctrl+Key combination to the TUI application. Parameters: - key (required): The key to combine with Ctrl (e.g., 'c', 'd', 'z') - session_id (optional): Session identifier (default: \"default\") Example: send_ctrl(key=\"c\", session_id=\"test1\")","title":"send_ctrl"},{"location":"#capture_screen","text":"Capture the current screen output of a TUI application. Parameters: - session_id (optional): Session identifier (default: \"default\") - include_ansi (optional): Whether to include ANSI escape codes in stream mode (default: False) - use_buffer (optional): Force buffer/stream mode. Auto-detects if None (default: None) Examples: # Auto-detect mode based on session capture_screen(session_id=\"test1\") # Force buffer mode capture capture_screen(session_id=\"test1\", use_buffer=True)","title":"capture_screen"},{"location":"#expect_text","text":"Wait for specific text to appear in the TUI output. Parameters: - pattern (required): Text or regex pattern to wait for - session_id (optional): Session identifier (default: \"default\") - timeout (optional): Maximum time to wait in seconds (default: 10) Example: expect_text(pattern=\"Welcome\", session_id=\"test1\", timeout=5)","title":"expect_text"},{"location":"#assert_contains","text":"Assert that the current screen contains specific text. Parameters: - text (required): Text to search for in the current screen - session_id (optional): Session identifier (default: \"default\") - use_buffer (optional): Check buffer/stream mode. Auto-detects if None (default: None) Example: assert_contains(text=\"Counter value: 1\", session_id=\"test1\")","title":"assert_contains"},{"location":"#assert_at_position-buffer-mode-only","text":"Assert that specific text appears at a screen position. Parameters: - text (required): Text to verify at the position - row (required): Row number (0-indexed) - col (required): Column number (0-indexed) - session_id (optional): Session identifier (default: \"default\") Example: # Verify \"Error\" appears at row 5, column 10 assert_at_position(text=\"Error\", row=5, col=10, session_id=\"test1\")","title":"assert_at_position (Buffer Mode Only)"},{"location":"#get_cursor_position-buffer-mode-only","text":"Get the current cursor position. Parameters: - session_id (optional): Session identifier (default: \"default\") Example: get_cursor_position(session_id=\"test1\") # Returns: \"Cursor position (session: test1): row 10, column 25\"","title":"get_cursor_position (Buffer Mode Only)"},{"location":"#get_screen_region-buffer-mode-only","text":"Extract a rectangular region of the screen. Parameters: - row_start (required): Starting row (0-indexed, inclusive) - row_end (required): Ending row (0-indexed, exclusive) - col_start (optional): Starting column (0-indexed, inclusive, default: 0) - col_end (optional): Ending column (0-indexed, exclusive, default: end of line) - session_id (optional): Session identifier (default: \"default\") Example: # Extract rows 5-10, full width get_screen_region(row_start=5, row_end=10, session_id=\"test1\") # Extract rows 5-10, columns 20-60 get_screen_region(row_start=5, row_end=10, col_start=20, col_end=60, session_id=\"test1\")","title":"get_screen_region (Buffer Mode Only)"},{"location":"#get_line-buffer-mode-only","text":"Get a specific line from the screen buffer. Parameters: - row (required): Row number (0-indexed) - session_id (optional): Session identifier (default: \"default\") Example: get_line(row=3, session_id=\"test1\") # Returns: \"Line 3 (session: test1): [line content]\"","title":"get_line (Buffer Mode Only)"},{"location":"#close_session","text":"Close a TUI testing session. Parameters: - session_id (optional): Session identifier (default: \"default\") Example: close_session(session_id=\"test1\")","title":"close_session"},{"location":"#list_sessions","text":"List all active TUI testing sessions. Example: list_sessions()","title":"list_sessions"},{"location":"#example-test-scenario","text":"Here's how you might use this MCP to test a TUI application: Launch the application : launch_tui(command=\"python example_tui_app.py\") Wait for it to load : expect_text(pattern=\"Welcome to the Example TUI Application\") Interact with it : send_keys(keys=\"1\\n\") Verify output : assert_contains(text=\"Hello, TUI Tester!\") Clean up : close_session()","title":"Example Test Scenario"},{"location":"#testing-the-example-app","text":"This repository includes an example TUI application ( example_tui_app.py ) that you can use to test the MCP server. Run it directly: python example_tui_app.py Or test it through the MCP: launch_tui(command=\"python example_tui_app.py\") send_keys(keys=\"1\\n\") capture_screen()","title":"Testing the Example App"},{"location":"#use-cases","text":"Automated Testing : Verify TUI applications behave correctly Integration Testing : Test command-line tools and interactive CLIs Documentation : Generate screenshots and examples from TUI apps Debugging : Inspect the state of TUI applications during development CI/CD : Add TUI testing to your continuous integration pipeline","title":"Use Cases"},{"location":"#technical-details","text":"This MCP server uses: - FastMCP : For the MCP server implementation - pexpect : For spawning and controlling terminal applications - pyte : For terminal emulation and screen buffer management (buffer mode) - ScreenSession wrapper : Combines pexpect and pyte for hybrid testing","title":"Technical Details"},{"location":"#architecture","text":"Stream Mode : pexpect directly captures output stream Buffer Mode : pexpect output \u2192 pyte terminal emulator \u2192 screen buffer Auto-detection : Tools automatically use appropriate mode based on session","title":"Architecture"},{"location":"#limitations","text":"Currently designed for Unix-like systems (Linux, macOS) Windows support may require modifications (consider using winpty or similar) Mouse support in TUIs is not currently available Buffer mode requires slightly more memory for screen emulation Position-based assertions only work in buffer mode","title":"Limitations"},{"location":"#contributing","text":"Contributions are welcome! Please feel free to submit issues or pull requests.","title":"Contributing"},{"location":"#license","text":"MIT License - see LICENSE file for details","title":"License"},{"location":"#related-projects","text":"Playwright - Browser automation (inspiration for this project) pexpect - Python module for spawning child applications pyte - Python terminal emulator MCP - Model Context Protocol specification","title":"Related Projects"},{"location":"#author","text":"Created for testing TUI applications with AI assistance.","title":"Author"},{"location":"examples/","text":"TUI Testing Examples \u00b6 This document provides practical examples of using the MCP TUI Test server in both stream and buffer modes. Stream Mode Examples \u00b6 Stream mode is ideal for CLI tools and applications that output text sequentially. Example 1: Basic CLI Testing (Stream Mode) \u00b6 Testing the included example TUI application: # Launch in stream mode (default) launch_tui(command=\"python example_tui_app.py\") # Wait for the welcome message expect_text(pattern=\"Welcome to the Example TUI Application\") # Select option 1 (Say Hello) send_keys(keys=\"1\\n\") # Verify the greeting appears assert_contains(text=\"Hello, TUI Tester!\") # Select option 3 (Counter) send_keys(keys=\"3\\n\") # Verify counter incremented assert_contains(text=\"Counter value: 1\") # Quit the application send_keys(keys=\"q\\n\") # Close the session close_session() Example 2: Testing Git Commands (Stream Mode) \u00b6 # Launch git in stream mode launch_tui(command=\"git status\", session_id=\"git_test\") # Wait for output expect_text(pattern=\"On branch\", session_id=\"git_test\", timeout=5) # Capture the output capture_screen(session_id=\"git_test\") # Close session close_session(session_id=\"git_test\") Example 3: Interactive Shell Script (Stream Mode) \u00b6 # Launch an interactive script launch_tui(command=\"./interactive_setup.sh\", session_id=\"setup\") # Answer prompts send_keys(keys=\"yes\\n\", session_id=\"setup\") expect_text(pattern=\"Enter your name:\", session_id=\"setup\") send_keys(keys=\"Alice\\n\", session_id=\"setup\") expect_text(pattern=\"Enter your email:\", session_id=\"setup\") send_keys(keys=\"alice@example.com\\n\", session_id=\"setup\") # Verify completion assert_contains(text=\"Setup complete\", session_id=\"setup\") close_session(session_id=\"setup\") Buffer Mode Examples \u00b6 Buffer mode is ideal for full TUI applications with cursor positioning and screen layouts. Example 4: Testing TUI Menus (Buffer Mode) \u00b6 # Launch in buffer mode for position-aware testing launch_tui(command=\"python menu_app.py\", mode=\"buffer\", session_id=\"menu\") # Wait for menu to render expect_text(pattern=\"Main Menu\", session_id=\"menu\") # Verify title is at the top assert_at_position(text=\"Main Menu\", row=0, col=0, session_id=\"menu\") # Navigate menu with arrow keys send_keys(keys=\"\\x1b[B\", session_id=\"menu\") # Down arrow send_keys(keys=\"\\x1b[B\", session_id=\"menu\") # Down arrow # Check cursor moved cursor_pos = get_cursor_position(session_id=\"menu\") # Should show cursor at row 2 # Select menu item send_keys(keys=\"\\n\", session_id=\"menu\") close_session(session_id=\"menu\") Example 5: Testing Dialog Boxes (Buffer Mode) \u00b6 # Launch dialog application in buffer mode launch_tui( command='dialog --msgbox \"Hello World\" 10 30', mode=\"buffer\", session_id=\"dialog\", dimensions=\"80x24\" ) # Wait for dialog to appear expect_text(pattern=\"Hello World\", session_id=\"dialog\") # Verify message is centered (approximately row 5) region = get_screen_region(row_start=3, row_end=7, session_id=\"dialog\") # Region should contain \"Hello World\" # Press Enter to close send_keys(keys=\"\\n\", session_id=\"dialog\") close_session(session_id=\"dialog\") Example 6: Testing htop (Buffer Mode) \u00b6 # Launch htop in buffer mode launch_tui( command=\"htop\", mode=\"buffer\", session_id=\"htop\", dimensions=\"120x40\" ) # Wait for it to render expect_text(pattern=\"CPU\", session_id=\"htop\", timeout=5) # Verify CPU header is at top assert_at_position(text=\"CPU\", row=0, col=0, session_id=\"htop\") # Get the header region header = get_screen_region(row_start=0, row_end=5, session_id=\"htop\") # Should contain CPU, Mem, Swp # Navigate with keys send_keys(keys=\"t\", session_id=\"htop\") # Toggle tree view send_keys(keys=\"u\", session_id=\"htop\") # Filter by user # Quit htop send_keys(keys=\"q\", session_id=\"htop\") close_session(session_id=\"htop\") Example 7: Position-Based Assertions (Buffer Mode) \u00b6 # Launch application with structured layout launch_tui( command=\"python dashboard.py\", mode=\"buffer\", session_id=\"dash\", dimensions=\"100x30\" ) # Wait for dashboard to load expect_text(pattern=\"Dashboard\", session_id=\"dash\") # Verify title at specific position assert_at_position(text=\"Dashboard\", row=0, col=35, session_id=\"dash\") # Check status indicator at bottom right assert_at_position(text=\"Status: OK\", row=29, col=80, session_id=\"dash\") # Extract sidebar (first 20 columns) sidebar = get_screen_region( row_start=1, row_end=28, col_start=0, col_end=20, session_id=\"dash\" ) # Sidebar should contain menu items assert \"Menu\" in sidebar assert \"Settings\" in sidebar # Get specific line line_5 = get_line(row=5, session_id=\"dash\") close_session(session_id=\"dash\") Example 8: Cursor Tracking (Buffer Mode) \u00b6 # Launch text editor launch_tui( command=\"nano test.txt\", mode=\"buffer\", session_id=\"nano\", dimensions=\"80x24\" ) # Wait for nano to start expect_text(pattern=\"GNU nano\", session_id=\"nano\") # Type some text send_keys(keys=\"Hello, World!\", session_id=\"nano\") # Check cursor position (should have moved) pos = get_cursor_position(session_id=\"nano\") # Should show cursor moved to the right # Move cursor with arrows send_keys(keys=\"\\x1b[D\" * 6, session_id=\"nano\") # Left arrow 6 times # Check cursor moved back pos = get_cursor_position(session_id=\"nano\") # Exit without saving send_ctrl(key=\"x\", session_id=\"nano\") send_keys(keys=\"n\\n\", session_id=\"nano\") close_session(session_id=\"nano\") Advanced Examples \u00b6 Example 9: Testing Multiple Sessions \u00b6 Running multiple TUI apps simultaneously: # Launch first app in stream mode launch_tui(command=\"python cli_tool.py\", session_id=\"app1\") # Launch second app in buffer mode launch_tui( command=\"htop\", session_id=\"app2\", mode=\"buffer\", dimensions=\"120x40\" ) # List active sessions list_sessions() # Should show: app1 (stream), app2 (buffer) # Interact with first app send_keys(keys=\"status\\n\", session_id=\"app1\") assert_contains(text=\"Running\", session_id=\"app1\") # Interact with second app send_keys(keys=\"t\", session_id=\"app2\") assert_at_position(text=\"CPU\", row=0, col=0, session_id=\"app2\") # Close both sessions close_session(session_id=\"app1\") close_session(session_id=\"app2\") Example 10: Region Extraction for Comparison (Buffer Mode) \u00b6 # Launch application launch_tui( command=\"python status_app.py\", mode=\"buffer\", session_id=\"status\" ) # Wait for initial render expect_text(pattern=\"System Status\", session_id=\"status\") # Capture initial state of status region initial_status = get_screen_region( row_start=10, row_end=15, col_start=0, col_end=50, session_id=\"status\" ) # Trigger a change send_keys(keys=\"r\", session_id=\"status\") # Refresh # Wait a moment send_keys(keys=\"\", session_id=\"status\", delay=1.0) # Capture updated state updated_status = get_screen_region( row_start=10, row_end=15, col_start=0, col_end=50, session_id=\"status\" ) # Compare regions if initial_status != updated_status: print(\"Status region changed as expected\") close_session(session_id=\"status\") Example 11: Testing Progress Bars (Buffer Mode) \u00b6 # Launch app with progress bar launch_tui( command=\"python download_simulator.py\", mode=\"buffer\", session_id=\"progress\" ) # Wait for progress bar to appear expect_text(pattern=\"Downloading\", session_id=\"progress\") # Check progress bar at specific line progress_line = get_line(row=5, session_id=\"progress\") # Should contain progress indicator like [==== ] 50% assert \"[\" in progress_line # Wait for completion expect_text(pattern=\"Complete\", session_id=\"progress\", timeout=30) # Verify final progress final_progress = get_line(row=5, session_id=\"progress\") assert \"100%\" in final_progress close_session(session_id=\"progress\") Example 12: Using Control Keys (Both Modes) \u00b6 # Stream mode example - canceling a process launch_tui(command=\"python long_running_task.py\", session_id=\"task\") # Let it run for a bit send_keys(keys=\"\", session_id=\"task\", delay=2.0) # Cancel with Ctrl+C send_ctrl(key=\"c\", session_id=\"task\") # Verify cancellation assert_contains(text=\"Cancelled\", session_id=\"task\") close_session(session_id=\"task\") # Buffer mode example - quitting htop launch_tui(command=\"htop\", mode=\"buffer\", session_id=\"htop2\") expect_text(pattern=\"CPU\", session_id=\"htop2\") # Quit with 'q' key send_keys(keys=\"q\", session_id=\"htop2\") close_session(session_id=\"htop2\") Tips for Effective TUI Testing \u00b6 When to Use Stream vs Buffer Mode \u00b6 Use Stream Mode for: - Command-line tools (git, npm, curl) - Simple interactive scripts - Applications that primarily output text - When you only need to check if text appears (not where) Use Buffer Mode for: - Full-screen TUI applications (htop, vim, nano) - Applications with menus and dialogs - When you need to verify layout and positioning - When you need cursor position tracking - Applications that use ncurses or similar Best Practices \u00b6 Add appropriate delays : Some TUI apps need time to render send_keys(keys=\"command\\n\", delay=0.5) Use expect_text for async operations : When waiting for slow operations expect_text(pattern=\"Done\", timeout=30) Capture screen on failure : For debugging try: assert_at_position(text=\"Expected\", row=5, col=10) except: debug_output = capture_screen(use_buffer=True) print(debug_output) Test with appropriate terminal sizes : Match your target environment launch_tui(command=\"app\", dimensions=\"132x43\") # Larger terminal Use sessions for isolation : Each test can have its own session launch_tui(command=\"test1\", session_id=\"test1\") launch_tui(command=\"test2\", session_id=\"test2\") Clean up sessions : Always close when done try: # ... test code ... finally: close_session(session_id=\"test\") Common Patterns \u00b6 Wait and Verify Pattern \u00b6 launch_tui(command=\"app\", mode=\"buffer\") expect_text(pattern=\"Ready\") send_keys(keys=\"action\\n\") assert_at_position(text=\"Success\", row=10, col=0) close_session() Region Comparison Pattern \u00b6 launch_tui(command=\"app\", mode=\"buffer\") before = get_screen_region(row_start=5, row_end=10) send_keys(keys=\"update\\n\") after = get_screen_region(row_start=5, row_end=10) assert before != after close_session() Multi-Step Workflow Pattern \u00b6 launch_tui(command=\"wizard\", mode=\"buffer\") # Step 1 expect_text(pattern=\"Step 1\") send_keys(keys=\"value1\\n\") # Step 2 expect_text(pattern=\"Step 2\") send_keys(keys=\"value2\\n\") # Step 3 expect_text(pattern=\"Step 3\") send_keys(keys=\"value3\\n\") # Verify completion assert_contains(text=\"Complete\") close_session()","title":"Examples"},{"location":"examples/#tui-testing-examples","text":"This document provides practical examples of using the MCP TUI Test server in both stream and buffer modes.","title":"TUI Testing Examples"},{"location":"examples/#stream-mode-examples","text":"Stream mode is ideal for CLI tools and applications that output text sequentially.","title":"Stream Mode Examples"},{"location":"examples/#example-1-basic-cli-testing-stream-mode","text":"Testing the included example TUI application: # Launch in stream mode (default) launch_tui(command=\"python example_tui_app.py\") # Wait for the welcome message expect_text(pattern=\"Welcome to the Example TUI Application\") # Select option 1 (Say Hello) send_keys(keys=\"1\\n\") # Verify the greeting appears assert_contains(text=\"Hello, TUI Tester!\") # Select option 3 (Counter) send_keys(keys=\"3\\n\") # Verify counter incremented assert_contains(text=\"Counter value: 1\") # Quit the application send_keys(keys=\"q\\n\") # Close the session close_session()","title":"Example 1: Basic CLI Testing (Stream Mode)"},{"location":"examples/#example-2-testing-git-commands-stream-mode","text":"# Launch git in stream mode launch_tui(command=\"git status\", session_id=\"git_test\") # Wait for output expect_text(pattern=\"On branch\", session_id=\"git_test\", timeout=5) # Capture the output capture_screen(session_id=\"git_test\") # Close session close_session(session_id=\"git_test\")","title":"Example 2: Testing Git Commands (Stream Mode)"},{"location":"examples/#example-3-interactive-shell-script-stream-mode","text":"# Launch an interactive script launch_tui(command=\"./interactive_setup.sh\", session_id=\"setup\") # Answer prompts send_keys(keys=\"yes\\n\", session_id=\"setup\") expect_text(pattern=\"Enter your name:\", session_id=\"setup\") send_keys(keys=\"Alice\\n\", session_id=\"setup\") expect_text(pattern=\"Enter your email:\", session_id=\"setup\") send_keys(keys=\"alice@example.com\\n\", session_id=\"setup\") # Verify completion assert_contains(text=\"Setup complete\", session_id=\"setup\") close_session(session_id=\"setup\")","title":"Example 3: Interactive Shell Script (Stream Mode)"},{"location":"examples/#buffer-mode-examples","text":"Buffer mode is ideal for full TUI applications with cursor positioning and screen layouts.","title":"Buffer Mode Examples"},{"location":"examples/#example-4-testing-tui-menus-buffer-mode","text":"# Launch in buffer mode for position-aware testing launch_tui(command=\"python menu_app.py\", mode=\"buffer\", session_id=\"menu\") # Wait for menu to render expect_text(pattern=\"Main Menu\", session_id=\"menu\") # Verify title is at the top assert_at_position(text=\"Main Menu\", row=0, col=0, session_id=\"menu\") # Navigate menu with arrow keys send_keys(keys=\"\\x1b[B\", session_id=\"menu\") # Down arrow send_keys(keys=\"\\x1b[B\", session_id=\"menu\") # Down arrow # Check cursor moved cursor_pos = get_cursor_position(session_id=\"menu\") # Should show cursor at row 2 # Select menu item send_keys(keys=\"\\n\", session_id=\"menu\") close_session(session_id=\"menu\")","title":"Example 4: Testing TUI Menus (Buffer Mode)"},{"location":"examples/#example-5-testing-dialog-boxes-buffer-mode","text":"# Launch dialog application in buffer mode launch_tui( command='dialog --msgbox \"Hello World\" 10 30', mode=\"buffer\", session_id=\"dialog\", dimensions=\"80x24\" ) # Wait for dialog to appear expect_text(pattern=\"Hello World\", session_id=\"dialog\") # Verify message is centered (approximately row 5) region = get_screen_region(row_start=3, row_end=7, session_id=\"dialog\") # Region should contain \"Hello World\" # Press Enter to close send_keys(keys=\"\\n\", session_id=\"dialog\") close_session(session_id=\"dialog\")","title":"Example 5: Testing Dialog Boxes (Buffer Mode)"},{"location":"examples/#example-6-testing-htop-buffer-mode","text":"# Launch htop in buffer mode launch_tui( command=\"htop\", mode=\"buffer\", session_id=\"htop\", dimensions=\"120x40\" ) # Wait for it to render expect_text(pattern=\"CPU\", session_id=\"htop\", timeout=5) # Verify CPU header is at top assert_at_position(text=\"CPU\", row=0, col=0, session_id=\"htop\") # Get the header region header = get_screen_region(row_start=0, row_end=5, session_id=\"htop\") # Should contain CPU, Mem, Swp # Navigate with keys send_keys(keys=\"t\", session_id=\"htop\") # Toggle tree view send_keys(keys=\"u\", session_id=\"htop\") # Filter by user # Quit htop send_keys(keys=\"q\", session_id=\"htop\") close_session(session_id=\"htop\")","title":"Example 6: Testing htop (Buffer Mode)"},{"location":"examples/#example-7-position-based-assertions-buffer-mode","text":"# Launch application with structured layout launch_tui( command=\"python dashboard.py\", mode=\"buffer\", session_id=\"dash\", dimensions=\"100x30\" ) # Wait for dashboard to load expect_text(pattern=\"Dashboard\", session_id=\"dash\") # Verify title at specific position assert_at_position(text=\"Dashboard\", row=0, col=35, session_id=\"dash\") # Check status indicator at bottom right assert_at_position(text=\"Status: OK\", row=29, col=80, session_id=\"dash\") # Extract sidebar (first 20 columns) sidebar = get_screen_region( row_start=1, row_end=28, col_start=0, col_end=20, session_id=\"dash\" ) # Sidebar should contain menu items assert \"Menu\" in sidebar assert \"Settings\" in sidebar # Get specific line line_5 = get_line(row=5, session_id=\"dash\") close_session(session_id=\"dash\")","title":"Example 7: Position-Based Assertions (Buffer Mode)"},{"location":"examples/#example-8-cursor-tracking-buffer-mode","text":"# Launch text editor launch_tui( command=\"nano test.txt\", mode=\"buffer\", session_id=\"nano\", dimensions=\"80x24\" ) # Wait for nano to start expect_text(pattern=\"GNU nano\", session_id=\"nano\") # Type some text send_keys(keys=\"Hello, World!\", session_id=\"nano\") # Check cursor position (should have moved) pos = get_cursor_position(session_id=\"nano\") # Should show cursor moved to the right # Move cursor with arrows send_keys(keys=\"\\x1b[D\" * 6, session_id=\"nano\") # Left arrow 6 times # Check cursor moved back pos = get_cursor_position(session_id=\"nano\") # Exit without saving send_ctrl(key=\"x\", session_id=\"nano\") send_keys(keys=\"n\\n\", session_id=\"nano\") close_session(session_id=\"nano\")","title":"Example 8: Cursor Tracking (Buffer Mode)"},{"location":"examples/#advanced-examples","text":"","title":"Advanced Examples"},{"location":"examples/#example-9-testing-multiple-sessions","text":"Running multiple TUI apps simultaneously: # Launch first app in stream mode launch_tui(command=\"python cli_tool.py\", session_id=\"app1\") # Launch second app in buffer mode launch_tui( command=\"htop\", session_id=\"app2\", mode=\"buffer\", dimensions=\"120x40\" ) # List active sessions list_sessions() # Should show: app1 (stream), app2 (buffer) # Interact with first app send_keys(keys=\"status\\n\", session_id=\"app1\") assert_contains(text=\"Running\", session_id=\"app1\") # Interact with second app send_keys(keys=\"t\", session_id=\"app2\") assert_at_position(text=\"CPU\", row=0, col=0, session_id=\"app2\") # Close both sessions close_session(session_id=\"app1\") close_session(session_id=\"app2\")","title":"Example 9: Testing Multiple Sessions"},{"location":"examples/#example-10-region-extraction-for-comparison-buffer-mode","text":"# Launch application launch_tui( command=\"python status_app.py\", mode=\"buffer\", session_id=\"status\" ) # Wait for initial render expect_text(pattern=\"System Status\", session_id=\"status\") # Capture initial state of status region initial_status = get_screen_region( row_start=10, row_end=15, col_start=0, col_end=50, session_id=\"status\" ) # Trigger a change send_keys(keys=\"r\", session_id=\"status\") # Refresh # Wait a moment send_keys(keys=\"\", session_id=\"status\", delay=1.0) # Capture updated state updated_status = get_screen_region( row_start=10, row_end=15, col_start=0, col_end=50, session_id=\"status\" ) # Compare regions if initial_status != updated_status: print(\"Status region changed as expected\") close_session(session_id=\"status\")","title":"Example 10: Region Extraction for Comparison (Buffer Mode)"},{"location":"examples/#example-11-testing-progress-bars-buffer-mode","text":"# Launch app with progress bar launch_tui( command=\"python download_simulator.py\", mode=\"buffer\", session_id=\"progress\" ) # Wait for progress bar to appear expect_text(pattern=\"Downloading\", session_id=\"progress\") # Check progress bar at specific line progress_line = get_line(row=5, session_id=\"progress\") # Should contain progress indicator like [==== ] 50% assert \"[\" in progress_line # Wait for completion expect_text(pattern=\"Complete\", session_id=\"progress\", timeout=30) # Verify final progress final_progress = get_line(row=5, session_id=\"progress\") assert \"100%\" in final_progress close_session(session_id=\"progress\")","title":"Example 11: Testing Progress Bars (Buffer Mode)"},{"location":"examples/#example-12-using-control-keys-both-modes","text":"# Stream mode example - canceling a process launch_tui(command=\"python long_running_task.py\", session_id=\"task\") # Let it run for a bit send_keys(keys=\"\", session_id=\"task\", delay=2.0) # Cancel with Ctrl+C send_ctrl(key=\"c\", session_id=\"task\") # Verify cancellation assert_contains(text=\"Cancelled\", session_id=\"task\") close_session(session_id=\"task\") # Buffer mode example - quitting htop launch_tui(command=\"htop\", mode=\"buffer\", session_id=\"htop2\") expect_text(pattern=\"CPU\", session_id=\"htop2\") # Quit with 'q' key send_keys(keys=\"q\", session_id=\"htop2\") close_session(session_id=\"htop2\")","title":"Example 12: Using Control Keys (Both Modes)"},{"location":"examples/#tips-for-effective-tui-testing","text":"","title":"Tips for Effective TUI Testing"},{"location":"examples/#when-to-use-stream-vs-buffer-mode","text":"Use Stream Mode for: - Command-line tools (git, npm, curl) - Simple interactive scripts - Applications that primarily output text - When you only need to check if text appears (not where) Use Buffer Mode for: - Full-screen TUI applications (htop, vim, nano) - Applications with menus and dialogs - When you need to verify layout and positioning - When you need cursor position tracking - Applications that use ncurses or similar","title":"When to Use Stream vs Buffer Mode"},{"location":"examples/#best-practices","text":"Add appropriate delays : Some TUI apps need time to render send_keys(keys=\"command\\n\", delay=0.5) Use expect_text for async operations : When waiting for slow operations expect_text(pattern=\"Done\", timeout=30) Capture screen on failure : For debugging try: assert_at_position(text=\"Expected\", row=5, col=10) except: debug_output = capture_screen(use_buffer=True) print(debug_output) Test with appropriate terminal sizes : Match your target environment launch_tui(command=\"app\", dimensions=\"132x43\") # Larger terminal Use sessions for isolation : Each test can have its own session launch_tui(command=\"test1\", session_id=\"test1\") launch_tui(command=\"test2\", session_id=\"test2\") Clean up sessions : Always close when done try: # ... test code ... finally: close_session(session_id=\"test\")","title":"Best Practices"},{"location":"examples/#common-patterns","text":"","title":"Common Patterns"},{"location":"examples/#wait-and-verify-pattern","text":"launch_tui(command=\"app\", mode=\"buffer\") expect_text(pattern=\"Ready\") send_keys(keys=\"action\\n\") assert_at_position(text=\"Success\", row=10, col=0) close_session()","title":"Wait and Verify Pattern"},{"location":"examples/#region-comparison-pattern","text":"launch_tui(command=\"app\", mode=\"buffer\") before = get_screen_region(row_start=5, row_end=10) send_keys(keys=\"update\\n\") after = get_screen_region(row_start=5, row_end=10) assert before != after close_session()","title":"Region Comparison Pattern"},{"location":"examples/#multi-step-workflow-pattern","text":"launch_tui(command=\"wizard\", mode=\"buffer\") # Step 1 expect_text(pattern=\"Step 1\") send_keys(keys=\"value1\\n\") # Step 2 expect_text(pattern=\"Step 2\") send_keys(keys=\"value2\\n\") # Step 3 expect_text(pattern=\"Step 3\") send_keys(keys=\"value3\\n\") # Verify completion assert_contains(text=\"Complete\") close_session()","title":"Multi-Step Workflow Pattern"}]}; var __search = { index: Promise.resolve(local_index) }