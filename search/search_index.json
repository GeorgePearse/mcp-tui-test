{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"MCP TUI Test","text":"<p>Like Playwright, but for Terminal User Interfaces</p> <p>An MCP (Model Context Protocol) server that enables AI assistants to test Terminal User Interface (TUI) applications. This server provides tools to launch, interact with, and verify TUI applications programmatically.</p> <p>View on GitHub :fontawesome-brands-github: See Examples :material-file-document:</p>"},{"location":"#features","title":"Features","text":"<ul> <li>Dual Testing Modes: Choose between stream mode (for CLI tools) or buffer mode (for full TUIs with position awareness)</li> <li>Launch TUI Applications: Start any terminal-based application with configurable dimensions</li> <li>Send Keyboard Input: Simulate user typing, special keys, and control combinations</li> <li>Capture Screen Output: Read and analyze the current terminal display</li> <li>Position-Based Testing: Verify text at specific screen coordinates (buffer mode)</li> <li>Cursor Tracking: Monitor cursor position in real-time (buffer mode)</li> <li>Wait for Text: Asynchronously wait for specific content to appear</li> <li>Assertions: Verify that expected content is present in the output</li> <li>Session Management: Run multiple TUI applications simultaneously</li> </ul>"},{"location":"#testing-modes","title":"Testing Modes","text":""},{"location":"#stream-mode-default","title":"Stream Mode (Default)","text":"<ul> <li>Best for: CLI tools, command-line applications, simple interactive programs</li> <li>Uses: pexpect for stream-based testing</li> <li>Features: Text matching, pattern waiting, output capture</li> <li>Example use cases: git, npm, grep, interactive shell scripts</li> </ul>"},{"location":"#buffer-mode","title":"Buffer Mode","text":"<ul> <li>Best for: Full TUI applications, ncurses apps, dialog boxes, menus</li> <li>Uses: pexpect + pyte for screen buffer emulation</li> <li>Features: All stream features PLUS position-based assertions, cursor tracking, region extraction</li> <li>Example use cases: htop, vim, dialog, interactive menus</li> </ul> <p>When to use which mode: - Use stream mode for applications that output text sequentially - Use buffer mode for applications that draw complex UIs with cursor movement</p>"},{"location":"#installation","title":"Installation","text":""},{"location":"#prerequisites","title":"Prerequisites","text":"<ul> <li>Python 3.10 or higher</li> <li>pip</li> </ul>"},{"location":"#install-dependencies","title":"Install Dependencies","text":"<pre><code>pip install -r requirements.txt\n</code></pre> <p>Or install the package:</p> <pre><code>pip install -e .\n</code></pre>"},{"location":"#usage","title":"Usage","text":""},{"location":"#running-the-mcp-server","title":"Running the MCP Server","text":"<pre><code>python server.py\n</code></pre> <p>Or if installed as a package:</p> <pre><code>mcp-tui-test\n</code></pre>"},{"location":"#configure-in-claude-desktop","title":"Configure in Claude Desktop","text":"<p>Add this to your <code>claude_desktop_config.json</code>:</p> <pre><code>{\n  \"mcpServers\": {\n    \"tui-test\": {\n      \"command\": \"python\",\n      \"args\": [\"/path/to/mcp-tui-test/server.py\"]\n    }\n  }\n}\n</code></pre> <p>Or if installed as a package:</p> <pre><code>{\n  \"mcpServers\": {\n    \"tui-test\": {\n      \"command\": \"mcp-tui-test\"\n    }\n  }\n}\n</code></pre>"},{"location":"#available-tools","title":"Available Tools","text":""},{"location":"#launch_tui","title":"<code>launch_tui</code>","text":"<p>Launch a TUI application for testing.</p> <p>Parameters: - <code>command</code> (required): The command to launch the TUI application - <code>session_id</code> (optional): Unique identifier for this session (default: \"default\") - <code>timeout</code> (optional): Command timeout in seconds (default: 30) - <code>dimensions</code> (optional): Terminal dimensions as WIDTHxHEIGHT (default: \"80x24\") - <code>mode</code> (optional): Testing mode - \"stream\" or \"buffer\" (default: \"stream\")</p> <p>Examples: <pre><code># Stream mode for CLI tools\nlaunch_tui(command=\"python example_tui_app.py\", session_id=\"test1\")\n\n# Buffer mode for full TUI applications\nlaunch_tui(command=\"htop\", session_id=\"test2\", mode=\"buffer\", dimensions=\"120x40\")\n</code></pre></p>"},{"location":"#send_keys","title":"<code>send_keys</code>","text":"<p>Send keyboard input to a TUI application.</p> <p>Parameters: - <code>keys</code> (required): Keys to send. Use <code>\\n</code> for Enter, <code>\\t</code> for Tab, <code>\\x1b</code> for Escape - <code>session_id</code> (optional): Session identifier (default: \"default\") - <code>delay</code> (optional): Delay in seconds after sending keys (default: 0.1)</p> <p>Example: <pre><code>send_keys(keys=\"1\\n\", session_id=\"test1\")\n</code></pre></p>"},{"location":"#send_ctrl","title":"<code>send_ctrl</code>","text":"<p>Send a Ctrl+Key combination to the TUI application.</p> <p>Parameters: - <code>key</code> (required): The key to combine with Ctrl (e.g., 'c', 'd', 'z') - <code>session_id</code> (optional): Session identifier (default: \"default\")</p> <p>Example: <pre><code>send_ctrl(key=\"c\", session_id=\"test1\")\n</code></pre></p>"},{"location":"#capture_screen","title":"<code>capture_screen</code>","text":"<p>Capture the current screen output of a TUI application.</p> <p>Parameters: - <code>session_id</code> (optional): Session identifier (default: \"default\") - <code>include_ansi</code> (optional): Whether to include ANSI escape codes in stream mode (default: False) - <code>use_buffer</code> (optional): Force buffer/stream mode. Auto-detects if None (default: None)</p> <p>Examples: <pre><code># Auto-detect mode based on session\ncapture_screen(session_id=\"test1\")\n\n# Force buffer mode capture\ncapture_screen(session_id=\"test1\", use_buffer=True)\n</code></pre></p>"},{"location":"#expect_text","title":"<code>expect_text</code>","text":"<p>Wait for specific text to appear in the TUI output.</p> <p>Parameters: - <code>pattern</code> (required): Text or regex pattern to wait for - <code>session_id</code> (optional): Session identifier (default: \"default\") - <code>timeout</code> (optional): Maximum time to wait in seconds (default: 10)</p> <p>Example: <pre><code>expect_text(pattern=\"Welcome\", session_id=\"test1\", timeout=5)\n</code></pre></p>"},{"location":"#assert_contains","title":"<code>assert_contains</code>","text":"<p>Assert that the current screen contains specific text.</p> <p>Parameters: - <code>text</code> (required): Text to search for in the current screen - <code>session_id</code> (optional): Session identifier (default: \"default\") - <code>use_buffer</code> (optional): Check buffer/stream mode. Auto-detects if None (default: None)</p> <p>Example: <pre><code>assert_contains(text=\"Counter value: 1\", session_id=\"test1\")\n</code></pre></p>"},{"location":"#assert_at_position-buffer-mode-only","title":"<code>assert_at_position</code> (Buffer Mode Only)","text":"<p>Assert that specific text appears at a screen position.</p> <p>Parameters: - <code>text</code> (required): Text to verify at the position - <code>row</code> (required): Row number (0-indexed) - <code>col</code> (required): Column number (0-indexed) - <code>session_id</code> (optional): Session identifier (default: \"default\")</p> <p>Example: <pre><code># Verify \"Error\" appears at row 5, column 10\nassert_at_position(text=\"Error\", row=5, col=10, session_id=\"test1\")\n</code></pre></p>"},{"location":"#get_cursor_position-buffer-mode-only","title":"<code>get_cursor_position</code> (Buffer Mode Only)","text":"<p>Get the current cursor position.</p> <p>Parameters: - <code>session_id</code> (optional): Session identifier (default: \"default\")</p> <p>Example: <pre><code>get_cursor_position(session_id=\"test1\")\n# Returns: \"Cursor position (session: test1): row 10, column 25\"\n</code></pre></p>"},{"location":"#get_screen_region-buffer-mode-only","title":"<code>get_screen_region</code> (Buffer Mode Only)","text":"<p>Extract a rectangular region of the screen.</p> <p>Parameters: - <code>row_start</code> (required): Starting row (0-indexed, inclusive) - <code>row_end</code> (required): Ending row (0-indexed, exclusive) - <code>col_start</code> (optional): Starting column (0-indexed, inclusive, default: 0) - <code>col_end</code> (optional): Ending column (0-indexed, exclusive, default: end of line) - <code>session_id</code> (optional): Session identifier (default: \"default\")</p> <p>Example: <pre><code># Extract rows 5-10, full width\nget_screen_region(row_start=5, row_end=10, session_id=\"test1\")\n\n# Extract rows 5-10, columns 20-60\nget_screen_region(row_start=5, row_end=10, col_start=20, col_end=60, session_id=\"test1\")\n</code></pre></p>"},{"location":"#get_line-buffer-mode-only","title":"<code>get_line</code> (Buffer Mode Only)","text":"<p>Get a specific line from the screen buffer.</p> <p>Parameters: - <code>row</code> (required): Row number (0-indexed) - <code>session_id</code> (optional): Session identifier (default: \"default\")</p> <p>Example: <pre><code>get_line(row=3, session_id=\"test1\")\n# Returns: \"Line 3 (session: test1): [line content]\"\n</code></pre></p>"},{"location":"#close_session","title":"<code>close_session</code>","text":"<p>Close a TUI testing session.</p> <p>Parameters: - <code>session_id</code> (optional): Session identifier (default: \"default\")</p> <p>Example: <pre><code>close_session(session_id=\"test1\")\n</code></pre></p>"},{"location":"#list_sessions","title":"<code>list_sessions</code>","text":"<p>List all active TUI testing sessions.</p> <p>Example: <pre><code>list_sessions()\n</code></pre></p>"},{"location":"#example-test-scenario","title":"Example Test Scenario","text":"<p>Here's how you might use this MCP to test a TUI application:</p> <ol> <li> <p>Launch the application:    <pre><code>launch_tui(command=\"python example_tui_app.py\")\n</code></pre></p> </li> <li> <p>Wait for it to load:    <pre><code>expect_text(pattern=\"Welcome to the Example TUI Application\")\n</code></pre></p> </li> <li> <p>Interact with it:    <pre><code>send_keys(keys=\"1\\n\")\n</code></pre></p> </li> <li> <p>Verify output:    <pre><code>assert_contains(text=\"Hello, TUI Tester!\")\n</code></pre></p> </li> <li> <p>Clean up:    <pre><code>close_session()\n</code></pre></p> </li> </ol>"},{"location":"#testing-the-example-app","title":"Testing the Example App","text":"<p>This repository includes an example TUI application (<code>example_tui_app.py</code>) that you can use to test the MCP server.</p> <p>Run it directly: <pre><code>python example_tui_app.py\n</code></pre></p> <p>Or test it through the MCP: <pre><code>launch_tui(command=\"python example_tui_app.py\")\nsend_keys(keys=\"1\\n\")\ncapture_screen()\n</code></pre></p>"},{"location":"#use-cases","title":"Use Cases","text":"<ul> <li>Automated Testing: Verify TUI applications behave correctly</li> <li>Integration Testing: Test command-line tools and interactive CLIs</li> <li>Documentation: Generate screenshots and examples from TUI apps</li> <li>Debugging: Inspect the state of TUI applications during development</li> <li>CI/CD: Add TUI testing to your continuous integration pipeline</li> </ul>"},{"location":"#technical-details","title":"Technical Details","text":"<p>This MCP server uses: - FastMCP: For the MCP server implementation - pexpect: For spawning and controlling terminal applications - pyte: For terminal emulation and screen buffer management (buffer mode) - ScreenSession wrapper: Combines pexpect and pyte for hybrid testing</p>"},{"location":"#architecture","title":"Architecture","text":"<ul> <li>Stream Mode: pexpect directly captures output stream</li> <li>Buffer Mode: pexpect output \u2192 pyte terminal emulator \u2192 screen buffer</li> <li>Auto-detection: Tools automatically use appropriate mode based on session</li> </ul>"},{"location":"#limitations","title":"Limitations","text":"<ul> <li>Currently designed for Unix-like systems (Linux, macOS)</li> <li>Windows support may require modifications (consider using <code>winpty</code> or similar)</li> <li>Mouse support in TUIs is not currently available</li> <li>Buffer mode requires slightly more memory for screen emulation</li> <li>Position-based assertions only work in buffer mode</li> </ul>"},{"location":"#contributing","title":"Contributing","text":"<p>Contributions are welcome! Please feel free to submit issues or pull requests.</p>"},{"location":"#license","title":"License","text":"<p>MIT License - see LICENSE file for details</p>"},{"location":"#related-projects","title":"Related Projects","text":"<ul> <li>Playwright - Browser automation (inspiration for this project)</li> <li>pexpect - Python module for spawning child applications</li> <li>pyte - Python terminal emulator</li> <li>MCP - Model Context Protocol specification</li> </ul>"},{"location":"#author","title":"Author","text":"<p>Created for testing TUI applications with AI assistance.</p>"},{"location":"examples/","title":"TUI Testing Examples","text":"<p>This document provides practical examples of using the MCP TUI Test server in both stream and buffer modes.</p>"},{"location":"examples/#stream-mode-examples","title":"Stream Mode Examples","text":"<p>Stream mode is ideal for CLI tools and applications that output text sequentially.</p>"},{"location":"examples/#example-1-basic-cli-testing-stream-mode","title":"Example 1: Basic CLI Testing (Stream Mode)","text":"<p>Testing the included example TUI application:</p> <pre><code># Launch in stream mode (default)\nlaunch_tui(command=\"python example_tui_app.py\")\n\n# Wait for the welcome message\nexpect_text(pattern=\"Welcome to the Example TUI Application\")\n\n# Select option 1 (Say Hello)\nsend_keys(keys=\"1\\n\")\n\n# Verify the greeting appears\nassert_contains(text=\"Hello, TUI Tester!\")\n\n# Select option 3 (Counter)\nsend_keys(keys=\"3\\n\")\n\n# Verify counter incremented\nassert_contains(text=\"Counter value: 1\")\n\n# Quit the application\nsend_keys(keys=\"q\\n\")\n\n# Close the session\nclose_session()\n</code></pre>"},{"location":"examples/#example-2-testing-git-commands-stream-mode","title":"Example 2: Testing Git Commands (Stream Mode)","text":"<pre><code># Launch git in stream mode\nlaunch_tui(command=\"git status\", session_id=\"git_test\")\n\n# Wait for output\nexpect_text(pattern=\"On branch\", session_id=\"git_test\", timeout=5)\n\n# Capture the output\ncapture_screen(session_id=\"git_test\")\n\n# Close session\nclose_session(session_id=\"git_test\")\n</code></pre>"},{"location":"examples/#example-3-interactive-shell-script-stream-mode","title":"Example 3: Interactive Shell Script (Stream Mode)","text":"<pre><code># Launch an interactive script\nlaunch_tui(command=\"./interactive_setup.sh\", session_id=\"setup\")\n\n# Answer prompts\nsend_keys(keys=\"yes\\n\", session_id=\"setup\")\nexpect_text(pattern=\"Enter your name:\", session_id=\"setup\")\n\nsend_keys(keys=\"Alice\\n\", session_id=\"setup\")\nexpect_text(pattern=\"Enter your email:\", session_id=\"setup\")\n\nsend_keys(keys=\"alice@example.com\\n\", session_id=\"setup\")\n\n# Verify completion\nassert_contains(text=\"Setup complete\", session_id=\"setup\")\n\nclose_session(session_id=\"setup\")\n</code></pre>"},{"location":"examples/#buffer-mode-examples","title":"Buffer Mode Examples","text":"<p>Buffer mode is ideal for full TUI applications with cursor positioning and screen layouts.</p>"},{"location":"examples/#example-4-testing-tui-menus-buffer-mode","title":"Example 4: Testing TUI Menus (Buffer Mode)","text":"<pre><code># Launch in buffer mode for position-aware testing\nlaunch_tui(command=\"python menu_app.py\", mode=\"buffer\", session_id=\"menu\")\n\n# Wait for menu to render\nexpect_text(pattern=\"Main Menu\", session_id=\"menu\")\n\n# Verify title is at the top\nassert_at_position(text=\"Main Menu\", row=0, col=0, session_id=\"menu\")\n\n# Navigate menu with arrow keys\nsend_keys(keys=\"\\x1b[B\", session_id=\"menu\")  # Down arrow\nsend_keys(keys=\"\\x1b[B\", session_id=\"menu\")  # Down arrow\n\n# Check cursor moved\ncursor_pos = get_cursor_position(session_id=\"menu\")\n# Should show cursor at row 2\n\n# Select menu item\nsend_keys(keys=\"\\n\", session_id=\"menu\")\n\nclose_session(session_id=\"menu\")\n</code></pre>"},{"location":"examples/#example-5-testing-dialog-boxes-buffer-mode","title":"Example 5: Testing Dialog Boxes (Buffer Mode)","text":"<pre><code># Launch dialog application in buffer mode\nlaunch_tui(\n    command='dialog --msgbox \"Hello World\" 10 30',\n    mode=\"buffer\",\n    session_id=\"dialog\",\n    dimensions=\"80x24\"\n)\n\n# Wait for dialog to appear\nexpect_text(pattern=\"Hello World\", session_id=\"dialog\")\n\n# Verify message is centered (approximately row 5)\nregion = get_screen_region(row_start=3, row_end=7, session_id=\"dialog\")\n# Region should contain \"Hello World\"\n\n# Press Enter to close\nsend_keys(keys=\"\\n\", session_id=\"dialog\")\n\nclose_session(session_id=\"dialog\")\n</code></pre>"},{"location":"examples/#example-6-testing-htop-buffer-mode","title":"Example 6: Testing htop (Buffer Mode)","text":"<pre><code># Launch htop in buffer mode\nlaunch_tui(\n    command=\"htop\",\n    mode=\"buffer\",\n    session_id=\"htop\",\n    dimensions=\"120x40\"\n)\n\n# Wait for it to render\nexpect_text(pattern=\"CPU\", session_id=\"htop\", timeout=5)\n\n# Verify CPU header is at top\nassert_at_position(text=\"CPU\", row=0, col=0, session_id=\"htop\")\n\n# Get the header region\nheader = get_screen_region(row_start=0, row_end=5, session_id=\"htop\")\n\n# Should contain CPU, Mem, Swp\n\n# Navigate with keys\nsend_keys(keys=\"t\", session_id=\"htop\")  # Toggle tree view\nsend_keys(keys=\"u\", session_id=\"htop\")  # Filter by user\n\n# Quit htop\nsend_keys(keys=\"q\", session_id=\"htop\")\n\nclose_session(session_id=\"htop\")\n</code></pre>"},{"location":"examples/#example-7-position-based-assertions-buffer-mode","title":"Example 7: Position-Based Assertions (Buffer Mode)","text":"<pre><code># Launch application with structured layout\nlaunch_tui(\n    command=\"python dashboard.py\",\n    mode=\"buffer\",\n    session_id=\"dash\",\n    dimensions=\"100x30\"\n)\n\n# Wait for dashboard to load\nexpect_text(pattern=\"Dashboard\", session_id=\"dash\")\n\n# Verify title at specific position\nassert_at_position(text=\"Dashboard\", row=0, col=35, session_id=\"dash\")\n\n# Check status indicator at bottom right\nassert_at_position(text=\"Status: OK\", row=29, col=80, session_id=\"dash\")\n\n# Extract sidebar (first 20 columns)\nsidebar = get_screen_region(\n    row_start=1,\n    row_end=28,\n    col_start=0,\n    col_end=20,\n    session_id=\"dash\"\n)\n\n# Sidebar should contain menu items\nassert \"Menu\" in sidebar\nassert \"Settings\" in sidebar\n\n# Get specific line\nline_5 = get_line(row=5, session_id=\"dash\")\n\nclose_session(session_id=\"dash\")\n</code></pre>"},{"location":"examples/#example-8-cursor-tracking-buffer-mode","title":"Example 8: Cursor Tracking (Buffer Mode)","text":"<pre><code># Launch text editor\nlaunch_tui(\n    command=\"nano test.txt\",\n    mode=\"buffer\",\n    session_id=\"nano\",\n    dimensions=\"80x24\"\n)\n\n# Wait for nano to start\nexpect_text(pattern=\"GNU nano\", session_id=\"nano\")\n\n# Type some text\nsend_keys(keys=\"Hello, World!\", session_id=\"nano\")\n\n# Check cursor position (should have moved)\npos = get_cursor_position(session_id=\"nano\")\n# Should show cursor moved to the right\n\n# Move cursor with arrows\nsend_keys(keys=\"\\x1b[D\" * 6, session_id=\"nano\")  # Left arrow 6 times\n\n# Check cursor moved back\npos = get_cursor_position(session_id=\"nano\")\n\n# Exit without saving\nsend_ctrl(key=\"x\", session_id=\"nano\")\nsend_keys(keys=\"n\\n\", session_id=\"nano\")\n\nclose_session(session_id=\"nano\")\n</code></pre>"},{"location":"examples/#advanced-examples","title":"Advanced Examples","text":""},{"location":"examples/#example-9-testing-multiple-sessions","title":"Example 9: Testing Multiple Sessions","text":"<p>Running multiple TUI apps simultaneously:</p> <pre><code># Launch first app in stream mode\nlaunch_tui(command=\"python cli_tool.py\", session_id=\"app1\")\n\n# Launch second app in buffer mode\nlaunch_tui(\n    command=\"htop\",\n    session_id=\"app2\",\n    mode=\"buffer\",\n    dimensions=\"120x40\"\n)\n\n# List active sessions\nlist_sessions()\n# Should show: app1 (stream), app2 (buffer)\n\n# Interact with first app\nsend_keys(keys=\"status\\n\", session_id=\"app1\")\nassert_contains(text=\"Running\", session_id=\"app1\")\n\n# Interact with second app\nsend_keys(keys=\"t\", session_id=\"app2\")\nassert_at_position(text=\"CPU\", row=0, col=0, session_id=\"app2\")\n\n# Close both sessions\nclose_session(session_id=\"app1\")\nclose_session(session_id=\"app2\")\n</code></pre>"},{"location":"examples/#example-10-region-extraction-for-comparison-buffer-mode","title":"Example 10: Region Extraction for Comparison (Buffer Mode)","text":"<pre><code># Launch application\nlaunch_tui(\n    command=\"python status_app.py\",\n    mode=\"buffer\",\n    session_id=\"status\"\n)\n\n# Wait for initial render\nexpect_text(pattern=\"System Status\", session_id=\"status\")\n\n# Capture initial state of status region\ninitial_status = get_screen_region(\n    row_start=10,\n    row_end=15,\n    col_start=0,\n    col_end=50,\n    session_id=\"status\"\n)\n\n# Trigger a change\nsend_keys(keys=\"r\", session_id=\"status\")  # Refresh\n\n# Wait a moment\nsend_keys(keys=\"\", session_id=\"status\", delay=1.0)\n\n# Capture updated state\nupdated_status = get_screen_region(\n    row_start=10,\n    row_end=15,\n    col_start=0,\n    col_end=50,\n    session_id=\"status\"\n)\n\n# Compare regions\nif initial_status != updated_status:\n    print(\"Status region changed as expected\")\n\nclose_session(session_id=\"status\")\n</code></pre>"},{"location":"examples/#example-11-testing-progress-bars-buffer-mode","title":"Example 11: Testing Progress Bars (Buffer Mode)","text":"<pre><code># Launch app with progress bar\nlaunch_tui(\n    command=\"python download_simulator.py\",\n    mode=\"buffer\",\n    session_id=\"progress\"\n)\n\n# Wait for progress bar to appear\nexpect_text(pattern=\"Downloading\", session_id=\"progress\")\n\n# Check progress bar at specific line\nprogress_line = get_line(row=5, session_id=\"progress\")\n\n# Should contain progress indicator like [====    ] 50%\nassert \"[\" in progress_line\n\n# Wait for completion\nexpect_text(pattern=\"Complete\", session_id=\"progress\", timeout=30)\n\n# Verify final progress\nfinal_progress = get_line(row=5, session_id=\"progress\")\nassert \"100%\" in final_progress\n\nclose_session(session_id=\"progress\")\n</code></pre>"},{"location":"examples/#example-12-using-control-keys-both-modes","title":"Example 12: Using Control Keys (Both Modes)","text":"<pre><code># Stream mode example - canceling a process\nlaunch_tui(command=\"python long_running_task.py\", session_id=\"task\")\n\n# Let it run for a bit\nsend_keys(keys=\"\", session_id=\"task\", delay=2.0)\n\n# Cancel with Ctrl+C\nsend_ctrl(key=\"c\", session_id=\"task\")\n\n# Verify cancellation\nassert_contains(text=\"Cancelled\", session_id=\"task\")\n\nclose_session(session_id=\"task\")\n\n# Buffer mode example - quitting htop\nlaunch_tui(command=\"htop\", mode=\"buffer\", session_id=\"htop2\")\n\nexpect_text(pattern=\"CPU\", session_id=\"htop2\")\n\n# Quit with 'q' key\nsend_keys(keys=\"q\", session_id=\"htop2\")\n\nclose_session(session_id=\"htop2\")\n</code></pre>"},{"location":"examples/#tips-for-effective-tui-testing","title":"Tips for Effective TUI Testing","text":""},{"location":"examples/#when-to-use-stream-vs-buffer-mode","title":"When to Use Stream vs Buffer Mode","text":"<p>Use Stream Mode for: - Command-line tools (git, npm, curl) - Simple interactive scripts - Applications that primarily output text - When you only need to check if text appears (not where)</p> <p>Use Buffer Mode for: - Full-screen TUI applications (htop, vim, nano) - Applications with menus and dialogs - When you need to verify layout and positioning - When you need cursor position tracking - Applications that use ncurses or similar</p>"},{"location":"examples/#best-practices","title":"Best Practices","text":"<ol> <li> <p>Add appropriate delays: Some TUI apps need time to render    <pre><code>send_keys(keys=\"command\\n\", delay=0.5)\n</code></pre></p> </li> <li> <p>Use expect_text for async operations: When waiting for slow operations    <pre><code>expect_text(pattern=\"Done\", timeout=30)\n</code></pre></p> </li> <li> <p>Capture screen on failure: For debugging    <pre><code>try:\n    assert_at_position(text=\"Expected\", row=5, col=10)\nexcept:\n    debug_output = capture_screen(use_buffer=True)\n    print(debug_output)\n</code></pre></p> </li> <li> <p>Test with appropriate terminal sizes: Match your target environment    <pre><code>launch_tui(command=\"app\", dimensions=\"132x43\")  # Larger terminal\n</code></pre></p> </li> <li> <p>Use sessions for isolation: Each test can have its own session    <pre><code>launch_tui(command=\"test1\", session_id=\"test1\")\nlaunch_tui(command=\"test2\", session_id=\"test2\")\n</code></pre></p> </li> <li> <p>Clean up sessions: Always close when done    <pre><code>try:\n    # ... test code ...\nfinally:\n    close_session(session_id=\"test\")\n</code></pre></p> </li> </ol>"},{"location":"examples/#common-patterns","title":"Common Patterns","text":""},{"location":"examples/#wait-and-verify-pattern","title":"Wait and Verify Pattern","text":"<pre><code>launch_tui(command=\"app\", mode=\"buffer\")\nexpect_text(pattern=\"Ready\")\nsend_keys(keys=\"action\\n\")\nassert_at_position(text=\"Success\", row=10, col=0)\nclose_session()\n</code></pre>"},{"location":"examples/#region-comparison-pattern","title":"Region Comparison Pattern","text":"<pre><code>launch_tui(command=\"app\", mode=\"buffer\")\nbefore = get_screen_region(row_start=5, row_end=10)\nsend_keys(keys=\"update\\n\")\nafter = get_screen_region(row_start=5, row_end=10)\nassert before != after\nclose_session()\n</code></pre>"},{"location":"examples/#multi-step-workflow-pattern","title":"Multi-Step Workflow Pattern","text":"<pre><code>launch_tui(command=\"wizard\", mode=\"buffer\")\n\n# Step 1\nexpect_text(pattern=\"Step 1\")\nsend_keys(keys=\"value1\\n\")\n\n# Step 2\nexpect_text(pattern=\"Step 2\")\nsend_keys(keys=\"value2\\n\")\n\n# Step 3\nexpect_text(pattern=\"Step 3\")\nsend_keys(keys=\"value3\\n\")\n\n# Verify completion\nassert_contains(text=\"Complete\")\nclose_session()\n</code></pre>"}]}